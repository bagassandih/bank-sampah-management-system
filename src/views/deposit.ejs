<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Deposit</title>
    <link rel="stylesheet" href="../css/styles-backup.css">
</head>

<body>
    <div class="container">
        <%- include('./component/sidebar.ejs') %>
            <main class="content">
                <%- include('./component/header.ejs') %>
                <div onclick="toggleSidebarClose()">

                    <h1>Deposit</h1>
                    <p class="after-title">
                      Manage customer deposits with the ability to create and delete data only, 
                      as transaction data is considered absolute and cannot be altered. 
                      Each deposit entry will be grouped by month, regardless of the date it is entered, 
                      and will ultimately be categorized according to the corresponding month.
                    </p>
                    <section class="waste-type">    
                        
                        <div class="reset-btn">
                            <button onclick="createDataDeposit()">Add+</button>
                            <button onclick="resetFilter()">Reset</button>
                        </div>
                        <section class="waste-type-container">    
                            <table class="waste-type-table">
                                <thead>
                                    <tr>
                                        <th>
                                          <div onclick="filterSorting(this, 'same')" data-sort=0 name="deposit_date">
                                              Deposit Date
                                          </div>
                                          <input type="date" placeholder="Search.." name="deposit_date" oninput="filterSorting(undefined, 'same')">
                                        </th>
                                        <th>
                                          <div onclick="filterSorting(this, 'same')" data-sort=0 name="amount">
                                              Amount
                                          </div>
                                          <div style="display: inline;">
                                              <input type="number" placeholder="Search.." name="amount" oninput="filterSorting(undefined, 'same')">
                                          </div>
                                        </th>
                                        <th>
                                          <div onclick="filterSorting(this, 'same')" data-sort=0 name="weight">
                                              Weight
                                          </div>
                                          <div style="display: inline;">
                                              <input type="number" placeholder="Search.." name="weight" oninput="filterSorting(undefined, 'same')">
                                          </div>
                                        </th>
                                        <th>
                                            <div onclick="filterSorting(this, 'same')" data-sort=0 name="waste_type">
                                                Waste Type
                                            </div>
                                            <input type="text" placeholder="Search.." name="waste_type" oninput="filterSorting(undefined, 'same')">
                                        </th>
                                        <th>
                                          <div onclick="filterSorting(this, 'same')" data-sort=0 name="customer">
                                              Customer
                                          </div>
                                          <input type="text" placeholder="Search.." name="customer" oninput="filterSorting(undefined, 'same')">
                                        </th>
                                        <th>
                                            <div onclick="filterSorting(this, 'same')" data-sort=0 name="withdrawal_status">
                                              Withdrawal
                                            </div>
                                            <select id="filter-status" name="withdrawal_status" oninput="filterSorting(undefined, 'same')">
                                                <option value="">All</option>
                                                <option value="ready">Ready</option>
                                                <option value="done">Done</option>
                                            </select>
                                        </th>
                                        <th>
                                            <div onclick="filterSorting(this, 'same')" data-sort=0 name="status">
                                                Status
                                            </div>
                                            <select id="filter-status" name="status" oninput="filterSorting(undefined, 'same')">
                                                <option value="active">Active</option>
                                                <option value="deleted">Deleted</option>
                                            </select>
                                        </th>
                                        <th class="th-action">Action</th>
                                    </tr>
                                </thead>
                                <tbody id="data-table-deposit">
                                  
                                </tbody>
                            </table>
                        </section>

                        <div class="pagination">
                            <span name="first-page" onclick="filterSorting(undefined, 'first')"> First </span>
                            <span name="previous-page" onclick="filterSorting(undefined, 'prev')"> < </span>
                            <span name="active-page" class="active"> 1 </span>
                            <span name="next-page" onclick="filterSorting(undefined, 'next')"> > </span>
                            <span name="last-page" data-page="" onclick="filterSorting(undefined, 'last')"> Last </span>
                        </div>
                    </section>

                    <section class="chart">
                        <div class="pagination">
                            <select id="chart-year" name="year" oninput="changeYear(this.value)" style="padding:0px 10px;">
                                <option value="2024">2024</option>
                                <option value="2023">2023</option>
                            </select>
                        </div>
                        <h3>Total Deposit</h3>
                        <div class="chart-container">
                            <div class="chart-deposit">
                                <canvas id="lineChart-deposit"></canvas>
                            </div>
                        </div>
                        <h3>Customer Attendance</h3>
                        <div class="chart-container">
                            <div class="chart-customer">
                                <canvas id="doughChart-deposit"></canvas>
                            </div>
                        </div>
                        <p>
                            Customer attendance and deposit activity effectiveness analysis can be conducted by reviewing annual data. 
                            By analyzing this data, we can identify trends, evaluate customer participation, and enhance waste management programs.
                        </p>
                    </section>

                </div>
            </main>
    </div>
    <script src="https://cdn.jsdelivr.net/npm/sweetalert2@11"></script>
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/moment.js/2.30.1/moment.min.js"></script>
    <script src="./js/sidebar.js"></script>
    <script src="./js/deposit.js"></script>
</body>

</html>